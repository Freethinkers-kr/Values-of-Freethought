var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(b,h,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");b!=Array.prototype&&b!=Object.prototype&&(b[h]=c.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(b){var h=0;return $jscomp.iteratorPrototype(function(){return h<b.length?{done:!1,value:b[h++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(b,h){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var c=0,d={next:function(){if(c<b.length){var u=c++;return{value:h(u,b[u]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
$jscomp.polyfill=function(b,h,c,d){if(h){c=$jscomp.global;b=b.split(".");for(d=0;d<b.length-1;d++){var u=b[d];u in c||(c[u]={});c=c[u]}b=b[b.length-1];d=c[b];h=h(d);h!=d&&null!=h&&$jscomp.defineProperty(c,b,{configurable:!0,writable:!0,value:h})}};$jscomp.polyfill("Array.prototype.values",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b,c){return c})}},"es6","es3");
$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6-impl","es3");$jscomp.polyfill("Array.prototype.fill",function(b){return b?b:function(b,c,d){var h=this.length||0;0>c&&(c=Math.max(0,h+c));if(null==d||d>h)d=h;d=Number(d);0>d&&(d=Math.max(0,h+d));for(c=Number(c||0);c<d;c++)this[c]=b;return this}},"es6-impl","es3");
(function(b){b.fn.S0Quiz=function(h,c){function d(){v.click(function(){if(C||!H)p++,I()});y.click(function(){p--;I()});b(".s0-btn.s0-radio").click(function(){C=!0;J[p]=b(this).attr("data");b(".s0-btn.s0-radio").removeClass("selected");b(".s0-nav.next").removeClass("disable");b(this).addClass("selected");A&&(console.log("["+p+"] selected: "+b(this).attr("data")),console.log("@ now selected data:"),console.log(J));p==D-1&&(x.removeClass("disable"),x.attr("href",O()))})}function u(){b("body").prepend("\n        <script>\n        window.fbAsyncInit = function() {\n          FB.init({\n            appId            : "+
appID+",\n            autoLogAppEvents : true,\n            xfbml            : true,\n            version          : 'v3.0'\n          });\n        };\n\n        (function(d, s, id){\n           var js, fjs = d.getElementsByTagName(s)[0];\n           if (d.getElementById(id)) {return;}\n           js = d.createElement(s); js.id = id;\n           js.src = \"https://connect.facebook.net/en_US/sdk.js\";\n           fjs.parentNode.insertBefore(js, fjs);\n         }(document, 'script', 'facebook-jssdk'));\n        \x3c/script>\n      ");
z=m("div",l.id.content,L);r=m("div",l.id.wrapper,z);E=m("canvas",l.id.canvas,r);w=m("div",l.id.navbar,z);F=m("a",l.id.navReturn,w);r.append('<p style="padding: 0.5rem">'+q.meta.resultMsg+"</p>");b.each(f,function(a,b){r.append('<h2 style="padding: 0.5rem">'+b.name+"</h2>");r.append('<p style="padding: 0.5rem">'+b.desc+"</p>")});F.addClass("s0-btn");F.html("\ucc98\uc74c\uc73c\ub85c");var a=n.origin;n.pathname&&(a+=n.pathname);F.attr("href",a);G=m("a",l.id.shareFB,w);G.addClass("s0-btn");G.html("\ud398\uc774\uc2a4\ubd81 \uacf5\uc720")}
function P(){var a=n.search.substring(1).split("&"),k=q.contents,e=0;b.each(q.values,function(a,b){f[a]={};f[a].name=b.name;f[a].desc=b.desc;f[a].point=0;f[a].max=0;f[a].ratio=0;f[a].color=""});b.each(a,function(){if("result"!=this){var a=this.split("="),g=parseInt(a[0]),e=(parseFloat(a[1])-2)/2;b.each(k[g].score,function(a,b){f[a].point+=e*parseFloat(b);f[a].max+=Math.abs(parseFloat(b))})}});b.each(f,function(a,b){f[a].ratio=(b.point+b.max)/(2*b.max);f[a].color=M[e++%M.length]});A&&(console.log("result-selected data:"),
console.log(f))}function Q(){G.click(function(){var a="";b.each(f,function(b,e){a+=e.name+": ";a+=(100*e.ratio).toFixed(1)+" %\n"});a+=q.meta.resultMsg;FB.ui({name:"\uc790\uc720\uc0ac\uc0c1 \uac00\uce58\ucc99\ub3c4",method:"share",hashtag:"#Freethink_Values",href:A?"https://freethinkers-kr.github.io/Values-of-Freethought/"+n.search:n.href,quote:a},function(a){console.log(a)});A&&console.log(a)})}function I(){C=!1;var a=q.contents[p];D=q.contents.length;b(".s0-radio").removeClass("selected");N.html(a.desc);
if(a.score){H=!0;v.addClass("disable");var k="["+p+"/"+(D-1)+"]";a.title&&(k+=a.title);K.html(k);B.show()}else H=!1,v.removeClass("disable"),K.html(a.title),B.hide();0==p?(y.hide(),v.show(),x.hide()):p==D-1?(y.show(),v.hide(),x.show()):(y.show(),v.show(),x.hide())}function R(){var a=0,k=.2*t.height,e=(t.height-k)/Object.keys(f).length,c=.08*t.width,g=.95*t.width-c,d=t.width;E.attr("width",t.width);E.attr("height",t.height);var h=E[0].getContext("2d");h.clearRect(0,0,t.width,t.height);S(h,0,0,d,k);
b.each(f,function(b,d){T(h,c,k+e*a+15,g,e-30,b,d);a++})}function m(a,k,e){e=void 0===e?null:e;k=k.split(".");a=b("<"+a+">");var c="",g="";b.each(k,function(a,b){0<=b.indexOf("#")?c+=b.replace(/^#/,""):g+=b+" "});c.length&&a.attr("id",c);g.length&&a.attr("class",g.trim());return e?a.appendTo(e):a}function O(){var a=n.href+"?result";b.each(J,function(b,e){a+="&"+b+"="+e});return a}function S(a,b,e,c,g){var k=.4*g,d=.2*g;a.fillStyle="#CE93D8";a.fillRect(b,e,c,g);a.fillStyle="rgba(0,0,0,0.5)";a.textAlign=
"right";a.textBaseline="top";a.font="bold "+d+'px "Gothic A1"';a.fillText(q.meta.author,b+c-15,e+15);a.fillText(q.meta.version,b+c-15,e+d+15);a.fillStyle="#000000";a.textAlign="left";a.textBaseline="bottom";a.font="bold "+k+'px "Gothic A1"';a.fillText("\uacb0\uacfc",b+15,e+g-15)}function T(a,b,c,d,g,h,f){var e=new Image;e.src="img/"+h+".png";var k;a.shadowBlur=10;a.shadowColor="#000";a.shadowOffsetY=2;a.shadowOffsetX=2;a.fillStyle="#EEEEEE";a.fillRect(b,c,d,g);a.shadowBlur=0;a.shadowOffsetY=0;a.shadowOffsetX=
0;a.globalAlpha=.8;a.fillStyle=f.color;a.fillRect(b,c,d*f.ratio,g);a.globalAlpha=1;a.shadowBlur=10;a.shadowColor="#000";a.shadowOffsetY=2;a.shadowOffsetX=2;a.fillStyle="#FFFFFF";a.lineWidth=20;a.strokeStyle=f.color;a.beginPath();a.arc(b,c+g/2,g/2,0,2*Math.PI,!1);a.fill();a.stroke();a.shadowBlur=0;a.shadowOffsetY=0;a.shadowOffsetX=0;e.onload=function(){e.height>=e.width?(k=g/e.height*.9,idx=e.width*k,idy=e.height*k,ix0=b-.45*g+(idy-idx)/2,iy0=c):(k=g/e.width*.9,idx=e.width*k,idy=e.height*k,ix0=b-.45*
g,iy0=c+(idx-idy)/2);a.drawImage(e,ix0,iy0,idx,idy)};a.shadowBlur=10;a.shadowColor="#333";a.shadowOffsetY=2;a.shadowOffsetX=2;a.fillStyle="#FFFFFF";a.font="bold "+.4*g+'px "Gothic A1"';a.textAlign="left";a.textBaseline="bottom";a.strokeStyle=f.color;a.lineWidth=5;a.strokeText(f.name,b+g/4,c+g);a.fillText(f.name,b+g/4,c+g);a.shadowBlur=0;a.shadowOffsetY=0;a.shadowOffsetX=0;a.fillStyle=.8<f.ratio?"#FFFFFF":"#000000";a.lineWidth=3;a.textAlign="right";a.textBaseline="middle";a.shadowBlur=4;a.shadowColor=
f.color;a.shadowOffsetY=2;a.shadowOffsetX=2;a.strokeText((100*f.ratio).toFixed(1)+"%",b+d-g/6,c+g/2);a.fillText((100*f.ratio).toFixed(1)+"%",b+d-g/6,c+g/2);a.shadowBlur=0;a.lineWidth=0;a.shadowOffsetY=0;a.shadowOffsetX=0}var l=b.extend({id:{wrapper:"#s0-quiz-warp",content:"#s0-quiz-contents-warp",title:"#s0-quiz-title",desc:"#s0-quiz-desc",radio:"#s0-quiz-radio",navbar:"#s0-quiz-nav",navNext:"#s0-quiz-nav-next",navPrev:"#s0-quiz-nav-prev",navResult:"#s0-quiz-nav-result",navReturn:"#s0-quiz-nav-return",
shareFB:"#s0-quiz-share-fb",canvas:"#s0-quiz-result-canvas"},facebook:{AppID:"2160017247578704",testAppID:"650644625328419"}},c),n=window.location,L=b(this),A=!1,z,r,K,N,B,w,v,y,x,E,F,G,q,p,D,J={},C,H,f={},M=["#C62828","#6A1B9A","#303F9F","#D81B60"],t={width:1600,height:800};(function(a,c){b.getJSON(a,function(a){c(a)}).fail(function(a,b,c){console.log("code:"+a.status+"\nmessage:"+a.responseText+"\nerror:"+c)})})(h,function(a){var b=n.search.substring(1);q=a;"file:"==n.protocol||"localhost"==n.hostname?
(appID=l.facebook.testAppID,A=!0,console.log("debug mode"),console.log("@ URL data:"),console.log(n),console.log("@ DB from ["+h+"]"),console.log(q)):appID=l.facebook.AppID;if(0<b.length)P(),u(),R(),Q();else{p=0;C=!1;z=m("div",l.id.wrapper,L);r=m("div",l.id.content,z);K=m("h1",l.id.title,r);N=m("div",l.id.desc,r);B=m("div",l.id.radio,r);B.css("font-family",'"Material Icons"');for(a=0;5>a;a++){b=m("a",l.id.radio+"-item-"+a+".s0-btn.s0-float.s0-radio",B);switch(a){case 0:b.html("thumb_down");break;
case 2:b.html("thumbs_up_down");break;case 4:b.html("thumb_up")}b.attr("data",a)}w=m("div",l.id.navbar,z);v=m("a",l.id.navNext+".s0-btn.s0-float.s0-nav.disable.next",w);y=m("a",l.id.navPrev+".s0-btn.s0-float.s0-nav.prev",w);x=m("a",l.id.navResult+".s0-btn.s0-result.disable",w);w.css("font-family",'"Material Icons"');v.html("keyboard_arrow_right");y.html("keyboard_arrow_left");x.html("done_outline \uacb0\uacfc \ubcf4\uae30");I();d()}})}})(jQuery);
