var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(b,h,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");b!=Array.prototype&&b!=Object.prototype&&(b[h]=c.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(b){var h=0;return $jscomp.iteratorPrototype(function(){return h<b.length?{done:!1,value:b[h++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(b,h){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var c=0,d={next:function(){if(c<b.length){var q=c++;return{value:h(q,b[q]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
$jscomp.polyfill=function(b,h,c,d){if(h){c=$jscomp.global;b=b.split(".");for(d=0;d<b.length-1;d++){var q=b[d];q in c||(c[q]={});c=c[q]}b=b[b.length-1];d=c[b];h=h(d);h!=d&&null!=h&&$jscomp.defineProperty(c,b,{configurable:!0,writable:!0,value:h})}};$jscomp.polyfill("Array.prototype.values",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b,c){return c})}},"es6","es3");
$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6-impl","es3");$jscomp.polyfill("Array.prototype.fill",function(b){return b?b:function(b,c,d){var h=this.length||0;0>c&&(c=Math.max(0,h+c));if(null==d||d>h)d=h;d=Number(d);0>d&&(d=Math.max(0,h+d));for(c=Number(c||0);c<d;c++)this[c]=b;return this}},"es6-impl","es3");
(function(b){b.fn.S0Quiz=function(h,c){function d(){r.click(function(){if(C||!G)n++,H()});w.click(function(){n--;H()});b(".s0-btn.s0-radio").click(function(){C=!0;I[n]=b(this).attr("data");b(".s0-btn.s0-radio").removeClass("selected");b(".s0-nav.next").removeClass("disable");b(this).addClass("selected");A&&(console.log("["+n+"] selected: "+b(this).attr("data")),console.log("@ now selected data:"),console.log(I));n==D-1&&(u.removeClass("disable"),u.attr("href",N()))})}function q(){var a=t.search.substring(1).split("&"),
k=x.contents,e=0;b.each(x.values,function(a,b){g[a]={};g[a].name=b;g[a].point=0;g[a].max=0;g[a].ratio=0;g[a].color=""});b.each(a,function(){if("result"!=this){var a=this.split("="),f=parseInt(a[0]),e=(parseFloat(a[1])-2)/2;b.each(k[f].score,function(a,b){g[a].point+=e*parseFloat(b);g[a].max+=Math.abs(parseFloat(b))})}});b.each(g,function(a,b){g[a].ratio=(b.point+b.max)/(2*b.max);g[a].color=K[e++%K.length]});A&&(console.log("result-selected data:"),console.log(g))}function O(){E.click(function(){var a=
"";b.each(g,function(b,e){a+=e.name+": ";a+=(100*e.ratio).toFixed(1)+" %\n"});FB.ui({name:"\uc790\uc720\uc0ac\uc0c1 \uac00\uce58\ucc99\ub3c4",method:"share",hashtag:"#Freethink_Values",href:A?"https://freethinkers-kr.github.io/Values-of-Freethought/"+t.search:t.href,quote:a},function(a){console.log(a)});A&&console.log(a)})}function H(){C=!1;var a=x.contents[n];D=x.contents.length;b(".s0-radio").removeClass("selected");L.html(a.desc);if(a.score){G=!0;r.addClass("disable");var k="["+n+"/"+(D-1)+"]";
a.title&&(k+=a.title);J.html(k);B.show()}else G=!1,r.removeClass("disable"),J.html(a.title),B.hide();0==n?(w.hide(),r.show(),u.hide()):n==D-1?(w.show(),r.hide(),u.show()):(w.show(),r.show(),u.hide())}function P(){var a=0,k=.2*p.height,e=(p.height-k)/Object.keys(g).length,c=.08*p.width,f=.95*p.width-c,d=p.width;F.attr("width",p.width);F.attr("height",p.height);var h=F[0].getContext("2d");h.clearRect(0,0,p.width,p.height);Q(h,0,0,d,k);b.each(g,function(b,d){R(h,c,k+e*a+15,f,e-30,b,d);a++})}function m(a,
k,e){e=void 0===e?null:e;k=k.split(".");a=b("<"+a+">");var c="",f="";b.each(k,function(a,b){0<=b.indexOf("#")?c+=b.replace(/^#/,""):f+=b+" "});c.length&&a.attr("id",c);f.length&&a.attr("class",f.trim());return e?a.appendTo(e):a}function N(){var a=t.href+"?result";b.each(I,function(b,e){a+="&"+b+"="+e});return a}function Q(a,b,e,c,f){var k=.4*f,d=.2*f;a.fillStyle="#CE93D8";a.fillRect(b,e,c,f);a.fillStyle="rgba(0,0,0,0.5)";a.textAlign="right";a.textBaseline="top";a.font="bold "+d+'px "Gothic A1"';a.fillText("soma0sd@freethinkers-kr",
b+c-15,e+15);a.fillText("v0.10f",b+c-15,e+d+15);a.fillStyle="#000000";a.textAlign="left";a.textBaseline="bottom";a.font="bold "+k+'px "Gothic A1"';a.fillText("\uacb0\uacfc",b+15,e+f-15)}function R(a,b,c,d,f,h,g){var e=new Image;e.src="img/"+h+".png";var k;a.shadowBlur=10;a.shadowColor="#000";a.shadowOffsetY=2;a.shadowOffsetX=2;a.fillStyle="#EEEEEE";a.fillRect(b,c,d,f);a.shadowBlur=0;a.shadowOffsetY=0;a.shadowOffsetX=0;a.globalAlpha=.8;a.fillStyle=g.color;a.fillRect(b,c,d*g.ratio,f);a.globalAlpha=
1;a.shadowBlur=10;a.shadowColor="#000";a.shadowOffsetY=2;a.shadowOffsetX=2;a.fillStyle="#FFFFFF";a.lineWidth=20;a.strokeStyle=g.color;a.beginPath();a.arc(b,c+f/2,f/2,0,2*Math.PI,!1);a.fill();a.stroke();a.shadowBlur=0;a.shadowOffsetY=0;a.shadowOffsetX=0;e.onload=function(){e.height>=e.width?(k=f/e.height*.9,idx=e.width*k,idy=e.height*k,ix0=b-.45*f+(idy-idx)/2,iy0=c):(k=f/e.width*.9,idx=e.width*k,idy=e.height*k,ix0=b-.45*f,iy0=c+(idx-idy)/2);a.drawImage(e,ix0,iy0,idx,idy)};a.shadowBlur=10;a.shadowColor=
"#333";a.shadowOffsetY=2;a.shadowOffsetX=2;a.fillStyle="#FFFFFF";a.font="bold "+.4*f+'px "Gothic A1"';a.textAlign="left";a.textBaseline="bottom";a.strokeStyle=g.color;a.lineWidth=5;a.strokeText(g.name,b+f/4,c+f);a.fillText(g.name,b+f/4,c+f);a.shadowBlur=0;a.shadowOffsetY=0;a.shadowOffsetX=0;a.fillStyle=.8<g.ratio?"#FFFFFF":"#000000";a.lineWidth=3;a.textAlign="right";a.textBaseline="middle";a.shadowBlur=4;a.shadowColor=g.color;a.shadowOffsetY=2;a.shadowOffsetX=2;a.strokeText((100*g.ratio).toFixed(1)+
"%",b+d-f/6,c+f/2);a.fillText((100*g.ratio).toFixed(1)+"%",b+d-f/6,c+f/2);a.shadowBlur=0;a.lineWidth=0;a.shadowOffsetY=0;a.shadowOffsetX=0}var l=b.extend({id:{wrapper:"#s0-quiz-warp",content:"#s0-quiz-contents-warp",title:"#s0-quiz-title",desc:"#s0-quiz-desc",radio:"#s0-quiz-radio",navbar:"#s0-quiz-nav",navNext:"#s0-quiz-nav-next",navPrev:"#s0-quiz-nav-prev",navResult:"#s0-quiz-nav-result",shareFB:"#s0-quiz-share-fb",canvas:"#s0-quiz-result-canvas"},facebook:{AppID:"2160017247578704",testAppID:"650644625328419"}},
c),t=window.location,M=b(this),A=!1,y,z,J,L,B,v,r,w,u,F,E,x,n,D,I={},C,G,g={},K=["#C62828","#6A1B9A","#303F9F","#D81B60"],p={width:1600,height:800};(function(a,c){b.getJSON(a,function(a){c(a)}).fail(function(a,b,c){console.log("code:"+a.status+"\nmessage:"+a.responseText+"\nerror:"+c)})})(h,function(a){var c=t.search.substring(1);x=a;"file:"==t.protocol||"localhost"==t.hostname?(appID=l.facebook.testAppID,A=!0,console.log("debug mode"),console.log("@ URL data:"),console.log(t),console.log("@ DB from ["+
h+"]"),console.log(x)):appID=l.facebook.AppID;if(0<c.length)q(),b("body").prepend("\n        <script>\n        window.fbAsyncInit = function() {\n          FB.init({\n            appId            : "+appID+",\n            autoLogAppEvents : true,\n            xfbml            : true,\n            version          : 'v3.0'\n          });\n        };\n\n        (function(d, s, id){\n           var js, fjs = d.getElementsByTagName(s)[0];\n           if (d.getElementById(id)) {return;}\n           js = d.createElement(s); js.id = id;\n           js.src = \"https://connect.facebook.net/en_US/sdk.js\";\n           fjs.parentNode.insertBefore(js, fjs);\n         }(document, 'script', 'facebook-jssdk'));\n        \x3c/script>\n      "),
y=m("div",l.id.content,M),z=m("div",l.id.wrapper,y),F=m("canvas",l.id.canvas,z),v=m("div",l.id.navbar,y),E=m("a",l.id.shareFB,v),E.addClass("s0-btn"),E.html("\ud398\uc774\uc2a4\ubd81 \uacf5\uc720"),P(),O();else{n=0;C=!1;y=m("div",l.id.wrapper,M);z=m("div",l.id.content,y);J=m("h1",l.id.title,z);L=m("p",l.id.desc,z);B=m("div",l.id.radio,z);B.css("font-family",'"Material Icons"');for(a=0;5>a;a++){c=m("a",l.id.radio+"-item-"+a+".s0-btn.s0-float.s0-radio",B);switch(a){case 0:c.html("thumb_down");break;
case 2:c.html("thumbs_up_down");break;case 4:c.html("thumb_up")}c.attr("data",a)}v=m("div",l.id.navbar,y);r=m("a",l.id.navNext+".s0-btn.s0-float.s0-nav.disable.next",v);w=m("a",l.id.navPrev+".s0-btn.s0-float.s0-nav.prev",v);u=m("a",l.id.navResult+".s0-btn.s0-result.disable",v);v.css("font-family",'"Material Icons"');r.html("keyboard_arrow_right");w.html("keyboard_arrow_left");u.html("done_outline \uacb0\uacfc \ubcf4\uae30");H();d()}})}})(jQuery);
